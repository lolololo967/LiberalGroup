<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIBERAL GROUP</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/Site-avatar.png">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

</head>
<body id="body">
    <div class="nav-container">
            <div class="nav-buttons">
                <button data-content-key="nav_parliament-log">Логи парламента</button>
                <button data-content-key="nav_parliament">Парламент</button>
                <button data-content-key="nav_info">Информация</button>
                <button data-content-key="nav_main">Главная</button>
                <button data-content-key="nav_test">Тесты</button>
                <button data-content-key="nav_parties">Партии</button>
                <button data-content-key="nav_developers">Разработчики</button>
            </div>
        </div>
    <div class="modals-wrapper">
        <div class="modal info-modal" data-modal="Информация">
            <h2 class="modal-title" data-content-key="info_title">Информация</h2>
            <div class="centered-circle box">
                <div class="circle-part part1"></div>
                <div class="circle-part part2"></div>
                <div class="circle-part part3"></div>
            </div>
            <div class="triangle"></div>
            <div class="box" style="width:300px;height:300px"></div>
            <div class="hover-info" id="info-part1"></div>
            <div class="hover-info" id="info-part2"></div>
            <div class="hover-info" id="info-part3"></div>
        </div>

        <div class="modal" data-modal="Активность">
            <button class="modal-button modal-back">Назад</button>
            <h2 class="modal-title">Активность</h2>
            <div class="modal-underline"></div>
        </div>

        <div class="modal" data-modal="Конституция">
            <button class="modal-button modal-back">Назад</button>
            <h2 class="modal-title">Конституция</h2>
            <div class="modal-underline"></div>
        </div>

        <div class="modal" data-modal="Роли">
            <button class="modal-button modal-back">Назад</button>
            <h2 class="modal-title">Роли</h2>
            <div class="modal-underline"></div>
            <div class="roles-container">
                <div class="main-roles-buttons-first">
                    <div class="main-roles-buttons">
                    <button class="role-btn" data-role="Политические роли" data-content-key="political_roles_btn">
                        <span class="btn-text">Политические роли</span>
                    </button>
                    <button class="role-btn" data-role="Роли за актив" data-content-key="activity_roles_btn">
                        <span class="btn-text">Роли за актив</span>
                    </button>
                    <button class="role-btn" data-role="Роли за репутацию" data-content-key="reputation_roles_btn">
                        <span class="btn-text">Роли за репутацию</span>
                    </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" data-modal="Политические роли">
            <button class="modal-button modal-back">Назад</button>
            <h2 class="modal-title" data-content-key="political_roles_title">Политические роли</h2>
            <div class="modal-underline"></div>
            <div class="pol-dop">
                <div class="polit-con">
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #4a8fcc 0%, rgba(74,143,204,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_member">Участник</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_member_desc">
                            человек, прошедший пробный срок и ставший частью ЛГ.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #cc5cc8 0%, rgba(204,92,200,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_term">Пробный Срок</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_term_desc">
                            человек, который только прибыл в группу и должен показать, что он активен и достоин стать частью ЛГ.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #835ccc 0%, rgba(55,0,194,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_LiberalElit">Либеральная Элита</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_LiberalElit_desc">
                            участники, которые полностью лояльны группе и заслужили звание элиты за свой стаж в ЛГ.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #ccaa29 0%, rgba(204,170,41,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_leader">Лидер</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_leader_desc">
                            нынешний лидер ЛГ, который отвечает за актив внутри ЛГ, а также за добавление новых возможностей и ролей.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #6800b3 0%, rgba(94,0,161,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_primearMinistr">Премьер Министр</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_primearMinistr_desc">
                            участник парламента, выбранный другими участниками парламента, отвечающий за политическую часть ЛГ.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #8a00cf 0%, rgba(129,0,194,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_parlamentMember">Представитель Парламента</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_parlamentMember_desc">
                            участники которые состоят в парламенте. Они выбирают Премьер Министра и выполняют задачи законодательной власти.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #49626d 0%, rgba(73,98,109,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_Agent">Агент Б.Б.Л.Г</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_Agent_desc">
                            участники, соблюдающие порядок внутри ЛГ, предотвращающие нарушение правил. Агенты ВБЛГ имеют модераторские права в ЛГ.
                        </div>
                    </div>
                    <div class="role-row-pol" >
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #49626d 0%, rgba(73,98,109,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_AgentVn">Агент Вн.Б.Л.Г</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_AgentVn_desc">
                            участники, которые предотвращают попадание внешних угроз с враждебных групп внутрь ЛГ.
                        </div>
                    </div>
                    <div class="role-row-pol">
                        <div class="role-left-pol" style="--gradient: linear-gradient(90deg, #4a8fcc 0%, rgba(74,143,204,0.5) 40%, rgba(255,255,255,0) 100%)">
                            <span data-content-key="role_Vip">VIP Премиальный Участник</span>
                        </div>
                        <div class="role-right-pol" data-content-key="role_Vip_desc">
                            роли, выдающиеся за буст сервера, дающие возможность писать в новости.
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <div class="modal" data-modal="Роли за актив">
            <button class="modal-button modal-back" data-content-key="back_btn">Назад</button>
            <h2 class="modal-title" data-content-key="roleforactive">Роли за актив</h2>
            <div class="modal-underline"></div>
            <div class="activity-points-firts">
                <div class="activity-points">
                    <div data-level="0" data-label="Мертв (ничего не делает в группе)" data-content-key="dead_member">act -0</div>
                    <div data-level="1" data-label="Ужасный Актив (ставит реакции или голосует)" data-content-key="terrible_active">act +1</div>
                    <div data-level="2" data-label="Низкий Актив (иногда пишет в чатах)" data-content-key="low_active">act +2</div>
                    <div data-level="3" data-label="Не особый Актив (ранее был на уровне 0–2, находится в группе менее часа)" data-content-key="weak_active">act +3</div>
                    <div data-level="4" data-label="Нормальный Актив (ранее был на уровне 0–3, находится в группе не менее 1 часа)" data-content-key="normal_active">act +4</div>
                    <div data-level="5" data-label="Хороший Актив (имеет Актив 4 и находится в группе не менее 2 часов)" data-content-key="good_active">act +5</div>
                    <div data-level="6" data-label="Высокий Актив (имеет Актив 5 и находится в группе не менее 2 часов)" data-content-key="high_active">act +6</div>
                    <div data-level="7" data-label="Отличный Актив (имеет Актив 6 и находится в группе не менее 3 часов)" data-content-key="excellent_active">act +7</div>
                    <div data-level="8" data-label="Очень Хороший Актив (имеет Актив 7 и находится в группе не менее 3 часов)" data-content-key="very_good_active">act +8</div>
                    <div data-level="9" data-label="Крайне Высокий Актив (имеет Актив 8 и находится в группе не менее 4 часов)" data-content-key="extremely_high_active">act +9</div>
                    <div data-level="10" data-label="Превосходный Актив (имеет Актив 9 и находится в группе не менее 4 часов)" data-content-key="superb_active">act +10</div>
                </div>

                <div class="activity-tooltip" id="activity-tooltip"></div>

                <div class="activity-bar">
                    <div class="activity-fill"></div>
                </div>
            </div>
        </div>

        <div class="modal" data-modal="Роли за репутацию">
            <button class="modal-button modal-back" data-content-key="back_btn">Назад</button>
            <h2 class="modal-title" data-content-key="roleforreputation">Роли за репутацию</h2>
            <div class="reputation-section-first">
                <section class="reputation-section">
                    <h3 data-content-key="own_reputation_title">Своя Репутация <small data-content-key="own_reputation_subtitle">(Зависит от вашего уровне активности)</small></h3>
                    <table class="reputation-table">
                        <thead>
                            <tr>
                                <th class="left-col" data-content-key="activity_level_header">Уровень активности</th>
                                <th class="right-col" data-content-key="max_reputation_change_header">Максимальное изменение репутации</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="left-col" data-content-key="active_3_or_less">Актив 3 и ниже</td><td class="right-col" data-content-key="max_1_point">Максимально на 1</td></tr>
                            <tr><td class="left-col" data-content-key="active_4_to_6">Актив 4 - 6</td><td class="right-col" data-content-key="max_2_points">Максимально на 2</td></tr>
                            <tr><td class="left-col" data-content-key="active_7_to_8">Актив 7 - 8</td><td class="right-col" data-content-key="max_3_points">Максимально на 3</td></tr>
                            <tr><td class="left-col" data-content-key="active_9">Актив 9</td><td class="right-col" data-content-key="max_4_points">Максимально на 4</td></tr>
                            <tr><td class="left-col" data-content-key="active_10">Актив 10</td><td class="right-col" data-content-key="unlimited_points">Неограниченно</td></tr>
                        </tbody>
                    </table>
                </section>

                <section class="reputation-section">
                    <h3 data-content-key="others_reputation_title">Чужая Репутация <small data-content-key="others_reputation_subtitle">(Зависит от вашей текущей репутации)</small></h3>
                    <table class="reputation-table">
                        <thead>
                            <tr>
                                <th class="left-col" data-content-key="your_reputation_header">Ваша репутация</th>
                                <th class="right-col" data-content-key="max_others_reputation_change_header">Максимальное изменение чужой репутации</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="left-col" data-content-key="reputation_minus_2_or_less">-2 и ниже</td><td class="right-col" data-content-key="max_1_point_others">Максимально на 1</td></tr>
                            <tr><td class="left-col" data-content-key="reputation_minus_1_to_plus_1">От -1 до +1</td><td class="right-col" data-content-key="max_2_points_others">Максимально на 2</td></tr>
                            <tr><td class="left-col" data-content-key="reputation_plus_2">+2</td><td class="right-col" data-content-key="max_3_points_others">Максимально на 3</td></tr>
                            <tr><td class="left-col" data-content-key="reputation_plus_3">+3</td><td class="right-col" data-content-key="max_4_points_others">Максимально на 4</td></tr>
                            <tr><td class="left-col" data-content-key="reputation_plus_4">+4</td><td class="right-col" data-content-key="max_7_points_others">Максимально на 7</td></tr>
                            <tr><td class="left-col" data-content-key="reputation_plus_5">+5</td><td class="right-col" data-content-key="unlimited_points_others">Неограниченно</td></tr>
                        </tbody>
                    </table>
                </section>
            </div>
            <div class="modal-underline"></div>
        </div>

        <div class="modal" data-modal="Парламент">
            <h2 class="modal-title" data-content-key="Parlament">Парламент</h2>

            <div class="label-left">
                <div class="person-info">
                    <span class="name"  data-content-key="primearministrname">Timofey</span>
                    <div class="avatar avatar-left"></div>
                </div>
                <div class="role-info role-left">
                    <p data-content-key="primearministrtext_1">> Либеральная элита</p>
                    <p data-content-key="primearministrtext_2">> Президент партии ЛР</p>
                    <p data-content-key="primearministrtext_3">> Репутация +5</p>
                    <h2 data-content-key="primearministrtext_4">Премьер Министр</h2>
                </div>
            </div>

            <div class="label-right">
                <div class="person-info">
                    <div class="avatar avatar-right"></div>
                    <span class="name"  data-content-key="leadername">Krolituki</span>
                </div>
                <div class="role-info role-right">
                    <p data-content-key="leadertext_1">Лидер Либеральной группы <</p>
                    <p data-content-key="leadertext_2">Репутация +4 <</p>
                    <h2 data-content-key="leadertext_3">Лидер / Президент</h2>
                </div>
            </div>


            <div class="seats-container-firts">
            <div class="seats-container">
                <div class="tooltip-global"></div>
            </div>
            </div>

        </div>
        <div class="modal" data-modal="Тесты">
            <h2 class="modal-title" data-content-key="test_title">Тесты</h2>
            <div class="tests-container">
                <button class="test-button" onclick="showModal('Политический компас')">Политический компас</button>
                <button class="test-button" onclick="window.location.href='test-results.html'">Результаты участников</button>
            </div>
        </div>

        <div class="modal" data-modal="Политический компас">
            <button class="modal-button modal-back">Назад</button>
            <h2 class="modal-title">Политический компас</h2>
            <div class="modal-underline"></div>
            <h2 id="question-number">Загрузка...</h2>
                <p class="question" id="question-text"></p>
                <div class="test-var-container">
                <div class="button-test-container">
                    <button class="button-test stronglyAgree" onclick="next_question(1.0)">Полностью согласен</button>
                    <button class="button-test agree" onclick="next_question(0.5)">Согласен</button>
                    <button class="button-test disagree" onclick="next_question(-0.5)">Не согласен</button>
                    <button class="button-test stronglyDisagree" onclick="next_question(-1.0)">Категорически не согласен</button>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="button-test button-test-close" onclick="prev_question()" id="back_button">Назад</button>
                    <button class="button-test-off" id="back_button_off"></button>
                </div>

                </div>
                <script src="questions.js"></script>
                <script>
                    var max_econ, max_dipl, max_govt, max_scty;
                    max_econ = max_dipl = max_govt = max_scty = 0;
                    let econ_array = new Array(questions.length);
                    let dipl_array = new Array(questions.length);
                    let govt_array = new Array(questions.length);
                    let scty_array = new Array(questions.length);
                    var qn = 0;
                    init_question();
                    for (var i = 0; i < questions.length; i++) {
                        max_econ += Math.abs(questions[i].effect.econ)
                        max_dipl += Math.abs(questions[i].effect.dipl)
                        max_govt += Math.abs(questions[i].effect.govt)
                        max_scty += Math.abs(questions[i].effect.scty)
                    }
                    
                    function init_question() {
                        document.getElementById("question-text").innerHTML = questions[qn].question;
                        document.getElementById("question-number").innerHTML = "Вопрос " + (qn + 1) + " из " + (questions.length);
                        if (qn == 0) {
                            document.getElementById("back_button").style.display = 'none';
                            document.getElementById("back_button_off").style.display = 'inline-block';
                        } else {
                            document.getElementById("back_button").style.display = 'inline-block';
                            document.getElementById("back_button_off").style.display = 'none';
                        }
                    }

                    function next_question(mult) {
                        econ_array[qn] = mult * questions[qn].effect.econ;
                        dipl_array[qn] = mult * questions[qn].effect.dipl;
                        govt_array[qn] = mult * questions[qn].effect.govt;
                        scty_array[qn] = mult * questions[qn].effect.scty;
                        qn++;
                        if (qn < questions.length) {
                            init_question();
                        } else {
                            results();
                        }
                    }

                    function prev_question() {
                        if (qn == 0) {
                            return;
                        }
                        qn--;
                        init_question();
                    }

                    function calc_score(score, max) {
                        return (100 * (max + score) / (2 * max)).toFixed(1);
                    }

                    function results() {
                        let final_econ = econ_array.reduce((a, b) => a + b, 0);
                        let final_dipl = dipl_array.reduce((a, b) => a + b, 0);
                        let final_govt = govt_array.reduce((a, b) => a + b, 0);
                        let final_scty = scty_array.reduce((a, b) => a + b, 0);
                        location.href = "results.html" +
                            "?e=" + calc_score(final_econ, max_econ) +
                            "&d=" + calc_score(final_dipl, max_dipl) +
                            "&g=" + calc_score(final_govt, max_govt) +
                            "&s=" + calc_score(final_scty, max_scty);
                    }
                </script>
        </div>

        <div class="modal" data-modal="Логи парламента">
            <h2 class="modal-title" data-content-key="parliament-log_title">Логи парламента</h2>
        </div>
        <div class="modal" data-modal="Проекты">
             <h2 class="modal-title" data-content-key="projects_title">Проекты</h2>
        </div>
    
        <div class="modal" data-modal="Партии">
            <h2 class="modal-title"data-content-key="party_title">Партии</h2>
        </div>
    
        <div class="modal modal-developers-clip" data-modal="Разработчики">
            <h2 class="modal-title" data-content-key="developers_title">Разработчики</h2>
            <button id="adminLoginBtn" class="admins-admin-btn"></button>
            <div class="developer-list-firts">
                <div class="developer-list">
                    <div class="developer-card">
                        <div class="developer-avatar-container">
                            <div class="developer-avatar-content">
                                <div class="developer-avatar"
                                    style="--avatar-bottom: url('https://avatars.akamai.steamstatic.com/2008aa582c47367715485af24871261c2528ea08_full.jpg');
                                            --avatar-top: url('https://cdn.akamai.steamstatic.com/steamcommunity/public/images/items/1232580/7e41e2a48ea057e0f6267ff736815cd1354e04d3.png');">
                                </div>
                                <div class="developer-name" data-content-key="dev_fazenn_name">Fazenn</div>
                            </div>
                        </div>
                        <video class="developer-card__video" autoplay muted loop playsinline disablepictureinpicture>
                        <source src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/items/1263950/b57a67011c8500aedba1e8e98c7ee286ee06290f.webm" type="video/mp4">
                        Ваш браузер не поддерживает видео.
                        </video>
                        <div class="developer-card__overlay">
                            <div class="developer-role-texts">
                                <span class="developer-role">Код - Frontend, Backend</span>
                                <span class="developer-role" data-content-key="dev_fazenn_role2">Дизайн</span>
                            </div>
                        </div>
                    </div>
                                        <div class="developer-card">
                        <div class="developer-avatar-container">
                             <div class="developer-avatar-content">
                                <div class="developer-avatar"
                                style="--avatar-bottom: url('images/TimofeyAvatar.png');
                                        --avatar-top: url('https://cdn.fastly.steamstatic.com/steamcommunity/public/images/items/253230/27ef3d62a0e42bf4ac60d426f2f172e1790ec0fd.png');">
                                </div>
                                <div class="developer-name" data-content-key="dev_timofey_name">Timofey</div>
                            </div>
                        </div>
                        <video class="developer-card__video" autoplay muted loop playsinline disablepictureinpicture>
                        <source src="https://shared.akamai.steamstatic.com/community_assets/images/items/730/28280d425d20a4d8cd9cfeff3389c234968ca301.webm" type="video/mp4">
                        Ваш браузер не поддерживает видео.
                        </video>
                        <div class="developer-card__overlay">
                            <div class="developer-role-texts">
                                <span class="developer-role" data-content-key="dev_timofey_role1">Куратор</span>
                                <span class="developer-role" data-content-key="dev_timofey_role2">Советник по дизайну</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          
        </div>
    </div>

    <header class="header">
        <h1 class="typewriter"></h1>

    </header>

    <div id="adminPanel" class="admins-admin-panel admins-hidden">
        <div class="admins-panel-header">
            <h3>Панель администратора</h3>
        </div>
        <div class="admins-controls">
            <button id="publishBtn" class="admins-btn admins-btn-success">Опубликовать изменения</button>
            <button id="logoutBtn" class="admins-btn admins-btn-danger">Выйти</button>
        </div>
        <div id="statusMessage" class="admins-status admins-info">Готов к работе</div>
    </div>


    <div id="loginModal" class="admins-modal admins-hidden">
        <div class="admins-modal-content">
            <div class="admins-panel-header">
                <h3>Вход для администратора</h3>
            </div>
            <input type="password" id="passwordInput" class="admins-input-field" placeholder="Введите пароль">
            <button id="loginBtn" class="admins-btn admins-btn-primary" style="width: 100%;">Войти</button>
            <button id="cancelBtn" class="admins-btn admins-btn-secondary" style="width: 100%; margin-top: 8px;">Отмена</button>
           
        </div>
    </div>
</body>
    <script src="admin.js"></script>
    <script src="three.min.js"></script>
    <script src="vanta.net.min.js"></script>
    <script src="script.js"></script>
</html>
