<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Liberal Group</title>
</head>
<body>
<h1 data-key="header.title">Добро пожаловать</h1>
<p data-key="main.text">Основной текст</p>

<!-- Подключаем Supabase через официальный CDN -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.27.0/dist/supabase.min.js"></script>
<script>
  const supabase = supabase.createClient(
    "https://pwawgeyxzjntystktciz.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3YXdnZXl4empudHlzdGt0Y2l6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMjU2NTQsImV4cCI6MjA3NDkwMTY1NH0.nS4TpZT7hq1PW4lLUiDccUmJSobnXWm1GFTWskYy8j"
  );

  async function loadContent() {
    const { data, error } = await supabase.from("content").select("key,published_text");
    if(error) {
      console.error(error);
      return;
    }
    data.forEach(item => {
      const el = document.querySelector(`[data-key="${item.key}"]`);
      if(el) el.innerText = item.published_text || "";
    });
  }

  loadContent();
</script>
</body>
</html>
