<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Liberal Group</title>
<style>
  #adminLogin {
    position: fixed;
    top: 10px;
    right: 10px;
    padding: 8px 12px;
    background-color: #6c5ce7;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
</style>
</head>
<body>

<button id="adminLogin" onclick="openAdmin()">Вход для админов</button>

<h1 data-key="header.title">Добро пожаловать</h1>
<p data-key="main.text">Основной текст</p>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.27.0/dist/supabase.min.js"></script>
<script>
  const supabase = supabase.createClient(
    "https://pwawgeyxzjntystktciz.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3YXdnZXl4empudHlzdGt0Y2l6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMjU2NTQsImV4cCI6MjA3NDkwMTY1NH0.nS4TpZT7hq1PW4lLUiDccUmJSobnXWm1GFTWskYy8jI"
  );

  // Загружаем все опубликованные тексты
  async function loadContent() {
    const { data, error } = await supabase.from("content").select("*");
    if(error) { console.error(error); return; }
    data.forEach(item => {
      const el = document.querySelector(`[data-key="${item.key}"]`);
      if(el) el.innerText = item.published_text || "";
    });
  }
  loadContent();

  // Функция открытия админки
  function openAdmin() {
    // Можно сделать редирект на admin.html
    window.location.href = "admin.html";
    
    // Или можно сделать модальное окно для логина прямо на index
    // Здесь проще для старта — редирект
  }
</script>
</body>
</html>
